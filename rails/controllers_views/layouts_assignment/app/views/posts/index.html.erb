<%= content_for :left_column do %>
<div class="container">
    <div class="row">
        <h1>All Posts</h1>
    </div>
    <div class="row">
        <table>
            <thead>
                <th>Title</th>
                <th>Content</th>
                <th>Author</th>
            </thead>
            <tbody>
                <% @posts.each do |post| %>
                <tr>
                    <td><%= post.title %></td>
                    <td><%= post.content %></td>
                    <td><%= post.user.first_name %> <%= post.user.last_name %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>
<% end %>

<%= content_for :middle_column do %>
<div class="container">
    <div class="row">
        <h1>New Post</h1>
    </div>
    <div class="row">
        <form action="<%= posts_path %>" method='POST'>
            <input type="hidden" name='authenticity_token' value='<%= form_authenticity_token %>'>
            <p><label for="post[title]">Title</label></p>
            <p><input type="text" name='post[title]'></p>
            <p><label for="post[content]">Content</label></p>
            <p><textarea name="post[content]" cols="30" rows="10"></textarea></p>
            <p><label for="post[user]">Author</label>
                <select name="post[user]">
                    <% @users.each do |user| %>
                    <option value="<%= user.id %>"><%= user.first_name %> <%= user.last_name %></option>
                    <% end %>
                </select>
            </p>
            <button type='submit'>Submit</button>
        </form>
    </div>
</div>
<% end %>

<%= content_for :right_column do %>
<div class="container">
    <div class="row">
        <h1>Go to Users Page</h1>
    </div>
    <div class="row">
        <a href="/users" class='btn btn-primary'>All Users</a>
    </div>
</div>
<% end %>